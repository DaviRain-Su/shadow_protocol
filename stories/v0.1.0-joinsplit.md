# Story: v0.1.0 JoinSplit Alignment

> Align Shadow Protocol with Privacy Cash transaction2 JoinSplit circuit parameters.

## Goals

- Align Groth16 verifier inputs with Privacy Cash transaction2 (7 public inputs).
- Sync Merkle tree depth and protocol constants with circuit configuration.
- Update technical documentation to reflect JoinSplit flow.

## Acceptance Criteria

### docs/SHADOW_PROTOCOL_TECHNICAL.md

- [x] JoinSplit public inputs updated (root/publicAmount/extDataHash/inputNullifier/outputCommitment)
- [x] Proof generation section references transaction2 artifacts

### src/verifier/groth16.zig

- [x] Transaction2 public inputs and verifier types updated
- [x] Verifying key aligned with Privacy Cash transaction2
- [x] Unit tests updated

### src/state/merkle_tree.zig

- [x] Default depth set to 26

### Integration

- [x] root.zig exports unchanged (no new API required)
- [x] CHANGELOG.md updated
- [x] ROADMAP.md status updated

## Completion Status

- Start date: 2026-01-15
- Completion date: 2026-01-15
- Status: âœ… Completed
